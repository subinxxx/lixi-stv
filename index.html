<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>L√¨ X√¨ STV 2026</title>

<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600;700&display=swap" rel="stylesheet">

<style>

*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Be Vietnam Pro',sans-serif;
}

body{
    min-height:100vh;
    background:linear-gradient(135deg,#ff2d2d,#ffcc00);
    display:flex;
    justify-content:center;
    align-items:center;
}

/* Main box */
.container{
    background:#fff;
    width:95%;
    max-width:450px;
    padding:30px 25px 35px;
    border-radius:20px;
    text-align:center;
    box-shadow:0 15px 40px rgba(0,0,0,0.3);
}

/* Title */
h1{
    color:#d40000;
    font-size:26px;
    margin-bottom:10px;
}

.subtitle{
    font-size:14px;
    color:#666;
    margin-bottom:25px;
}

/* Envelope area */
.envelopes{
    display:flex;
    justify-content:space-between;
    gap:15px;
    margin-bottom:25px;
}

.envelope{
    flex:1;
    height:160px;
    background:linear-gradient(180deg,#ff1e1e,#c80000);
    border-radius:15px;
    cursor:pointer;
    position:relative;
    box-shadow:0 6px 15px rgba(0,0,0,0.25);
    transition:0.3s;
}

.envelope:hover{
    transform:translateY(-5px) scale(1.05);
}

.envelope::before{
    content:"üßß";
    font-size:50px;
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
}

/* Disabled */
.envelope.disabled{
    opacity:0.5;
    pointer-events:none;
}

/* Result */
.result{
    min-height:60px;
    font-size:22px;
    font-weight:700;
    color:#d40000;
    margin-top:10px;
}

/* Info */
.info{
    margin-top:15px;
    font-size:13px;
    color:#888;
}

/* Animation */
@keyframes shake{
    0%{transform:rotate(0);}
    25%{transform:rotate(3deg);}
    50%{transform:rotate(-3deg);}
    75%{transform:rotate(2deg);}
    100%{transform:rotate(0);}
}

.shake{
    animation:shake 0.4s;
}

</style>
</head>

<body>

<div class="container">

    <h1>üßß L√å X√å MAY M·∫ÆN STV üßß</h1>

    <div class="subtitle">
        Ch·ªçn 1 bao l√¨ x√¨ ƒë·ªÉ nh·∫≠n may m·∫Øn ƒë·∫ßu nƒÉm
    </div>

    <!-- Envelopes -->
    <div class="envelopes">

        <div class="envelope" onclick="openLucky(this)"></div>
        <div class="envelope" onclick="openLucky(this)"></div>
        <div class="envelope" onclick="openLucky(this)"></div>

    </div>

    <div class="result" id="result"></div>

    <div class="info">
        ‚è∞ M·ªói ng∆∞·ªùi ch·ªâ ƒë∆∞·ª£c r√∫t 1 l·∫ßn / ng√†y
    </div>

</div>


<script>

/* Prize with rate (higher money = lower rate) */
const gifts = [
    { text: "üéâ Tr√∫ng 10.000ƒë", rate: 40 },
    { text: "üéâ Tr√∫ng 20.000ƒë", rate: 30 },
    { text: "üéâ Tr√∫ng 50.000ƒë", rate: 20 },
    { text: "üèÜ Tr√∫ng 100.000ƒë", rate: 10 }
];

const result = document.getElementById("result");
const envelopes = document.querySelectorAll(".envelope");

/* Get today key */
function getTodayKey(){
    const d = new Date();
    return d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate();
}

/* Check played today */
function hasPlayedToday(){
    return localStorage.getItem("lucky_"+getTodayKey());
}

/* Lock envelopes */
function lockAll(){
    envelopes.forEach(e=>{
        e.classList.add("disabled");
    });
}

/* Weighted random */
function randomGift(){

    let pool = [];

    gifts.forEach(g=>{
        for(let i=0;i<g.rate;i++){
            pool.push(g.text);
        }
    });

    let rand = Math.floor(Math.random()*pool.length);

    return pool[rand];
}

/* Main function */
function openLucky(el){

    if(hasPlayedToday()){
        result.innerHTML = "‚ö†Ô∏è B·∫°n ƒë√£ r√∫t h√¥m nay r·ªìi. H√£y quay l·∫°i ng√†y mai nh√©!";
        lockAll();
        return;
    }

    /* Animation */
    el.classList.add("shake");
    result.innerHTML = "‚è≥ ƒêang m·ªü l√¨ x√¨...";

    setTimeout(()=>{

        el.classList.remove("shake");

        let gift = randomGift();

        result.innerHTML = gift;

        /* Save played */
        localStorage.setItem("lucky_"+getTodayKey(),"true");

        lockAll();

    },800);
}


/* Auto check when load */
window.onload = ()=>{

    if(hasPlayedToday()){
        result.innerHTML = "‚úÖ B·∫°n ƒë√£ r√∫t h√¥m nay r·ªìi. H·∫πn g·∫∑p l·∫°i ng√†y mai!";
        lockAll();
    }

};

</script>

</body>
</html>
